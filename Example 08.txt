# -*- coding: utf-8 -*-
Example 08　應用問題:數列遞迴
--------------------------------------------------------------------------------
8-1 遞迴求算:
Input :已知遞迴式S=a+aa+aaa+...，使用者自由輸入a代表數字並決定加總項數n
Output:輸出n項遞迴加總之運算結果S
--------------------------------------------------------------------------------

number=int(input("請輸入a代表之數字(1～9):"))
digits=int(input("請輸入總運算項數n:"))
S=0
list=[]

#逐位數各自相加，次方+1則項數就-1
for n in range(0,digits):
    S+=number*10**(n)*(digits-n)
    #字串儲入逐個數列項，以利格式輸出
    list.append(str(number)*(n+1))
print("+".join(list)+"=%d"%(S))

--------------------------------------------------------------------------------
8-2 費氏數列問題:
Input :使用者自由輸入一個整數
Output:顯示截至該項之費氏數列
--------------------------------------------------------------------------------

number=int(input("請輸入欲觀察之項數:")
#費氏數列之首兩項為1
list=[1,1]
 
if number==1:
    print(list[0])
elif number>1:
    #自第三項起，數值皆為前兩項之和
    for i in range(2,number):
        next=list[i-2]+list[i-1]
        list.append(next)
    print(list)
else:
    print("輸入有誤")

--------------------------------------------------------------------------------
8-3 雙重費氏數列:
(1) Input :已知一數列分子及分母均為費氏數列(分子首二項為2,3、分母首二項為1,2)，使用者自由輸入運算項數
    Output:輸出前n項之數列運算結果
--------------------------------------------------------------------------------

number=int(input("請輸入欲運算之項數:"))
#由首二項推衍餘項，需事先定義於列表
list1=[2,3]
list2=[1,2]
#創建列表收集運算結果，以利輸出
division=[]

if number>=2:
    for item in range(2,number):
        i=list1[item-2]+list1[item-1]
        j=list2[item-2]+list2[item-1]
        list1.append(i)
        list2.append(j)
        
#位置比項數少1(range0)
for i in range(number):
    division.append(list1[i]/list2[i])
print(division)

--------------------------------------------------------------------------------
(2) Input :使用者自由輸入一正整數
    Output:當輸入值n為(1)奇數，輸出S=1/1+1/3+1/5+...1/n、(2)偶數，輸出S=1/2+1/4+1/6+...1/n
--------------------------------------------------------------------------------

number=int(input("請輸入一正整數:"))
sum=0
if number%2==0:
    #數列項數為number/2，起項為2、末項為n
    for i in range(1,int(number/2)+1):
        sum+=1/(2*i)
else:
    #數列項數為number/2，範圍多1、總和少1
    for j in range(1,int((number+1)/2)+1):
        sum+=1/(2*j-1)
print(sum)

--------------------------------------------------------------------------------
8-4 圖樣輸出:
(1) Input :使用者自由輸入三角形之腰長(n>1)
    Output:輸出等腰三角形
--------------------------------------------------------------------------------

level=int(input("請輸入三角形之腰長:"))
for i in range(1,level+1):
     print("# "*i)

--------------------------------------------------------------------------------
(2) Input :使用者自由輸入菱形之層數(n>1)
    Output:輸出菱形
--------------------------------------------------------------------------------

level=int(input("請輸入菱形之層數:"))
#遞增迴圈
for i in range(1,level+1):
    #空格逐行減少(至第n層為0)，字符則逐行增加2
    print(" "*(level-i)+"#"*(2*i-1))
#遞減迴圈
for j in range(1,level):
    #空格逐行增加，字符則逐行減少(至第n-1層為1)
    print(" "*j+"#"*(2*level-1-2*j))

--------------------------------------------------------------------------------
(3) Input :使用者自由輸入正方形之階數(n>1)
    Output:輸出正方形
--------------------------------------------------------------------------------

level=int(input("請輸入正方形之階數:"))
print("# "*level)
for i in range(level-2):
    #末項無空格，再扣除首尾之字符
    print("#"+" "*(2*level-3)+"#")
print("# "*level)

--------------------------------------------------------------------------------
8-5 三角數列:
(1) Input :使用者自由輸入數列三角形之階數(n>1)
    Output:輸出數列三角形
--------------------------------------------------------------------------------

level=int(input("請輸入三角形之階數(n>1):"))
list=[]
for i in range(1,level+1):
    #逐次開寫一新的列表項
    list.append([])
    for j in range(1,level+1):
        #(巢狀)列表第n項(即位置=n-1)會有n個值
        if i>=j:
            list[i-1].append(j)
for item in list:
    print(item)

--------------------------------------------------------------------------------
(2) Input :使用者自由輸入楊輝三角形之階數(n>1)
    Output:輸出楊輝三角形
--------------------------------------------------------------------------------

level=int(input("請輸入三角形之階數(n>1):"))
list=[]
for i in range(1,level+1):
    list.append([])
    for j in range(1,level+1):
        #(巢狀)列表第n項(即位置=n-1)會有n個值，先填入1
        if i>=j:
            list[i-1].append(1)

#第n階(即位置=n-1)是由第n-1階(即位置=n-2)得來
for i in range(1,level-1):
    for j in range(1,level-1):
        #(巢狀)列表第n項會有n個值，注意列表取項範圍
        if i>=j:
            list[i+1][j]=list[i][j-1]+list[i][j]

#以列表逐項輸出
for i in range(1,level+1):
    print(list[i-1])
#列表中巢狀取值，逐值輸出
for i in range(1,level+1):
    for item in list[i-1]:
        print(item, end=" ")
    print("")
